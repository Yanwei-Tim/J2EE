Gala.Mask=new Class({options:{frameId:"gala-mask-hide-select",maskId:"gala-mask",maskCls:"gala-mask-bg",maskMsgId:"gala-mask-msg",maskLoadingCls:"gala-mask-loading",parentElement:null,innerElement:null,message:"\u6b63\u5728\u52a0\u8f7d\u6570\u636e..."},initialize:function(_){this.setOptions(_);if($defined(this.options.innerElement))this.el=$(this.options.innerElement);if($defined(this.options.parentElement))this.pel=$(this.options.parentElement);else this.pel=$E("body");this.isShow=false;if(this.options.initialize)this.options.initialize.call(this)},show:function(){this.maskFrame=new Element("iframe",{"id":this.options.frameId}).injectInside(this.pel);this.mask=new Element("div",{"id":this.options.maskId,"class":this.options.maskCls}).injectInside(this.pel);this.maskMsg=new Element("div",{"id":this.options.maskMsgId}).injectInside(this.pel);if($defined(this.el)){this.el.injectInside(this.maskMsg);this.el.setStyle("display","")}else{this.maskLoading=new Element("div",{"class":this.options.maskLoadingCls}).injectInside(this.maskMsg);this.maskLoading.setText(this.options.message)}if(window.ie6||window.ie){this.maskFrame.setStyle("height",this.pel.getStyle("height"));this.mask.setStyle("height",this.pel.getStyle("height"))}this.moveToCenter();this.isShow=true},hide:function(){this.maskMsg.remove();this.mask.remove();this.maskFrame.remove();this.isShow=false},isShowing:function(){return this.isShow},moveToCenter:function(){var $=(window.getWidth()-this.maskMsg.getStyle("width").toInt())/2,_=(window.getHeight()-this.maskMsg.getStyle("height").toInt())/2;this.maskMsg.setStyles({"left":$,"top":_})}});Gala.Mask.implement(new Options)